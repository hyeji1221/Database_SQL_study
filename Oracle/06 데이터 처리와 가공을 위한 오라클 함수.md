# 06 데이터 처리와 가공을 위한 오라클 함수

## 06-1 오라클 함수

### 오라클 함수의 종류

#### 내장함수

입력 방식에 따라 데이터 처리에 사용하는 행이 나뉜다.

**단일행 함수** : 데이터가 한 행씩 입력되고 한 행당 결과가 하나씩 나오는 함수

**다중행 함수** : 여러 행이 입력되어 하나의 행으로 결과가 반환되는 함수

#### 사용자 지정 함수

## 06-2 문자 데이터를 가공하는 문자 함수

#### 대.소문자를 바꿔주는 함수

**UPPER(문자열)** : 괄호 안 문자열을 모두 대문자로 변환하여 반환

**LOWER(문자열)** : 괄호 안 문자열을 모두 소문자로 변환하여 반환

**INITCAP(문자열)** : 괄호 안 문자 데이터 중 첫 글자는 대문자로, 나머지 문자를 소문자로 변환 후 반환 

UPPER, LOWER, INITCAP 함수를 사용하려면 입력 데이터에 열 일므이나 데이터를 직접 지정해야 한다.

#### 문자열 길이를 구하는 LENGTH 함수

SELECT절, WHERE 절에 사용가능하다

바이트 수를 반환하는 LENGTHB 함수도 존재한다.

#### 문자열 일부를 추출하는 SUBSTR 함수

**SUBSTR(문자열 데이터, 시작위치, 추출길이)** 

**SUBSTR(문자열 데이터, 시작위치)** : 시작위치부터 끝까지

다른 함수의 결과 값을 SUBSTR 함수의 입력 값으로 사용할 수도 있다.

#### 문자열 데이터 안에서 특정 문자 위치를 찾는 INSTR 함수

총 네 개의 입력 값을 지정할 수 있으며 최소 두 개의 입력값 즉 **원본 문자열 데이터**와 **원본 문자열 데이터에서 찾으려는 문자** 이렇게 두 가지는 반드시 지정해 주어야 한다.

```SQL
INSTR ([대상 문자열 데이터(필수)],
      [위치를 찾으려는 부분 문자(필수)],
      [위치를 찾기 시작할 대상 문자열 데이터 위치(선택, 기본값은 1)],
      [시작 위치에서 찾으려는 문자가 몇 번째인지 지정(선택, 기본값은 1)])
```

#### 특정 문자를 다른 문자로 바꾸는 REPLACE 함수

```sql
REAPLACE ([문자열 데이터 또는 열 이름(필수)], [찾는 문자(필수)], [대체할 문자(선택)])
```

대체할 문자를 입력하지 않는다면 찾는 문자로 지정한 문자는 문자열 데이터에서 삭제된다.

#### 데이터의 빈 공간을 특정 문자로 채우는 LPAD, RPAD 함수

LPAD : Left Padding (왼쪽 패딩)

RPAD : Right Padding (오른쪽 패딩)

```sql
LPAD([문자열 데이터 또는 열이름(필수)], [데이터의 자릿수(필수)], [빈 공간에 채울 문자(선택)])
-- RPAD도 동일
```

**패딩 처리는 데이터의 일부만 노출해야 하는 개인정보를 출력할 때 사용하기도 한다**

#### 두 문자열 데이터를 합치는 CONCAT 함수

|| 연산자는 CONCAT 함수와 유사하게 열이나 문자열을 연결한다.

#### 특정 문자를 지우는 TRIM, LTRIM, RTRIM 함수

원본 문자열 데이터를 제외한 나머지 데이터는 모두 생략 가능 -> 삭제할 문자가 생략될 경우에 기본적으로 공백을 제거

**LEADING** : 왼쪽 글자 지우기

**TRAILING** : 오른쪽 글자 지우기

**BOTH** : 양쪽의 글자를 모두 지우기